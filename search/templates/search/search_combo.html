{% extends "base.html" %} {% block content %} {% load static %}

  <!-- Search bar -->
  <form action = "{% url 'search-combo' %}" class="form-inline active-purple-3 active-purple-4", method = "get">
    <i class="fas fa-search" aria-hidden="true"></i>
    <input name = "comb_query" class="form-control form-control-sm ml-3 w-75" type="text" placeholder="Search" aria-label="Search">
  </form>

  <form action = "{% url 'filter-combo' %}">
    <div class = "row">
      <div class = "col-md-6">
    <div class="form-row">
      <div class="col-md-6 mb-3">
        <label> Professor/Course </label>
        <input name = "text_filter" type="text" class="form-control" value="xyz">
        <small class="form-text text-muted">
          Enter a professor/course name to guide filter results. 
        </small>
      </div>
    </div>
    <div class="form-row">
      <div class="col-md-3 mb-3">
        <label> State </label>
        <select name = "level_filter" class="custom-select">
          <option selected disabled value=""> Choose... </option>
          <option value="UG" > UG </option>
          <option value="G" > G </option>
          <option value="UG/G"> UG/G </option>
        </select>
      </div>
    </div>
    <button class="btn btn-primary" type="submit"> Filter </button>
  </div>
  </div> 
  </form>

  <!-- Printing the status -->
  {% if status == "No query" %} <h4> No Search Results yet </h4> 
  {% elif status == 0 %} <h4> This particular combination - a professor teaching a particular course - doesn't exist. Please enter another professor/course name. </h4> 
  {% else %} <h4> {{ status }} result(s) found </h4>  {% endif %}

  <hr/>

  <!-- Printing the combined list -->
  <div class="row">
    {% for item in combined_list %}
    <div class="col-sm-4">
      <div class="card mb-4">
        <div class="card-body">
          <h5 class="card-title">{{ item.course_name }} taught by {{ item.prof_name }}</h5>
          <h6 class="card-subtitle mb-2 text-muted">
            {{ item.level }}
          </h6>
          <p class="card-text"> Ratings:<br>Workload - {{ item.ratings.0 }}<br>Learning - {{ item.ratings.1 }}<br>Grading - {{ item.ratings.2 }}</p>
          <a href="{% url 'combo-profile' item.prof_id item.course_name %}" class="card-link"> View reviews </a
          >
        </div>
      </div>
    </div>
    {% endfor %}
  </div>

  <!-- Back to home link -->
  <a href="{% url 'app-home' %}"> Back to Home page </a>

{% endblock content %}